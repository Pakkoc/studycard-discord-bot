# 🎓 마법사관학교 프로필 봇

Discord 서버(마법사관학교 컨셉 디스코드 서버버)에서 음성 채널 참여 시간을 추적하고, 학습자의 활동을 시각화한 프로필 카드를 슬래시 명령어로 제공하는 한국어 기반 Discord 봇입니다. Python `discord.py` 봇 + Next.js 대시보드(서버 렌더링) + Supabase(PostgreSQL)로 구성됩니다.
  
## ✨ 현재 제공 기능
- 슬래시 명령어: `/학생증` (선택 매개변수: @사용자)
  - 본인 또는 지정한 사용자의 프로필 카드 이미지를 생성하여 전송합니다.
  - 포함 정보: 오늘/주/월/누적 학습시간, XP/레벨 진행도, 학번, 기숙사, 월간 스트릭 요약(캘린더 섹션)
- 슬래시 명령어: `/잔디` (선택 매개변수: 연도, @사용자)
  - 본인 또는 지정한 사용자의 연간 잔디(활동 캘린더) 이미지를 생성하여 전송합니다.
  - 포함 정보: 프로필 이미지, 사용자명, 연도별 일일 학습시간 히트맵, 월별 라벨, 요일 라벨

## 🧩 작동 개요
- 음성 채널 입·퇴장 이벤트로 학습 세션을 기록합니다.
- 기록된 시간으로 누적 학습 시간과 XP/레벨을 계산합니다.
- 선택된 채널(옵션)에 게시글/포럼 작성 시 추가 XP를 부여할 수 있습니다.
- 레벨업 발생 시, 지정된 텍스트 채널로 자동 축하 메시지를 보냅니다(옵션).
- `/학생증` 실행 시, DB 집계값을 사용해 프로필 카드 + 월간 통계 이미지를 생성합니다.

## 🧭 명령어
- `/학생증 [@사용자]`: 프로필 카드 생성 및 전송
  - 일반 사용자: 매개변수 없이 실행 → 본인 프로필만 조회 가능
  - 기숙사장 역할 보유자: `@사용자` 지정 시 타인 프로필 조회 가능 (역할명 정확히 "기숙사장")
  - 표시 정보: 서버 내 닉네임/별명, 학번(가입일 기반), 기숙사(역할명 패턴), 오늘/주/월/누적 학습시간, XP/레벨 진행도, 월간 스트릭 요약

- `/잔디 [연도] [@사용자]`: 연간 잔디(활동 캘린더) 이미지 생성 및 전송
  - 일반 사용자: 매개변수 없이 실행 → 본인 잔디만 조회 가능
  - 기숙사장 역할 보유자: `@사용자` 지정 시 타인 잔디 조회 가능
  - 연도: 조회할 연도 (기본값: 현재 연도)
  - 표시 정보: 프로필 이미지, 사용자명, 연도별 일일 학습시간 히트맵, 월별/요일 라벨, 색상 범례